--ZAD1
CREATE TABLE zwierzeta (
    gatunek CHARACTER VARYING (100) NOT NULL,
    jajorodny char(1) NOT NULL,
    liczba_konczyn numeric(2) NOT NULL,
    data_odkrycia date NOT NULL,
    CHECK(jajorodny = 'T' or jajorodny = 'N')
);
----
--ZAD2
CREATE TABLE klienci(
    pesel char(11) PRIMARY KEY ,
    adres CHARACTER VARYING(100),
    wiek NUMERIC(2) NOT NULL ,
    wspolpraca_od date NOT NULL
);
----
--ZAD3
CREATE TABLE uczelnie(
    id_uczelni numeric(4),
    nazwa varchar(100),
    adres varchar(100),
    budzet numeric(10, 2) NOT NULL,
    zalozona date NOT NULL,
    PRIMARY KEY (id_uczelni),
    UNIQUE (nazwa)
);
----
--ZAD4
CREATE TABLE ksiazki(
  id_ksiazki numeric(10) PRIMARY KEY ,
  tytul varchar(100) NOT NULL,
  autorzy varchar(100),
  cena numeric(6, 2),
  data_wydania date
);
----
--ZAD5
CREATE TABLE pokoje(
    numer_pokoju numeric(3),
    id_zesp numeric(2) REFERENCES zespoly(id_zesp),
    liczba_okien numeric(1),
    PRIMARY KEY (numer_pokoju)
);
----
--ZAD6
CREATE TABLE plyty_cd(
    kompozytor char(100) NOT NULL,
    tytul_albumu char(100) NOT NULL,
    data_nagrania date,
    data_wydania date,
    czas_trwania INTERVAL,
    CHECK ( data_nagrania < data_wydania ),
    CONSTRAINT un_ko_ty UNIQUE (kompozytor, tytul_albumu),
    CHECK ( czas_trwania < '82m')
);
----
--ZAD7
CREATE TABLE szef_podwladny(szef, podwladny) AS
    SELECT s.nazwisko, p.nazwisko
    FROM pracownicy s JOIN pracownicy p ON (s.id_prac=p.id_szefa);
----